#!/bin/bash

# Check if the correct number of arguments were passed
if [ "$#" -ne 2 ]; then
    echo "Usage: $0 <search_path> <output_path>"
    exit 1
fi

search_path="$1"
output_path="$2"

# Create the output directory if it doesn't exist
mkdir -p "$output_path"

# Initialize a counter for the number of files copied
count=0

# Find all directories named "PDFs" and copy their contents to the output directory
while read -r dir; do
    # Count the number of files in the directory
    num_files=$(find "$dir" -type f | wc -l)
    # Add the number of files to the counter
    count=$((count + num_files))
    # Copy the files to the output directory
    cp -r "$dir"/* "$output_path"
done < <(find "$search_path" -type d -name "PDFs")

echo "Copied $count files"

